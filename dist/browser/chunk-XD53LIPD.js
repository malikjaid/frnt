import{a as Mt}from"./chunk-7NOQS7A6.js";import{a as ft}from"./chunk-44YCYAN4.js";import{a as Ct}from"./chunk-BQ62KYW7.js";import"./chunk-CDS4ARN5.js";import{b as k}from"./chunk-LURNVO4I.js";import"./chunk-EQQULXW2.js";import{a as ut}from"./chunk-WG7QQHNH.js";import{$ as _t,F as tt,G as et,H as nt,I as it,J as at,K as ot,L as rt,M as ct,N as lt,O as mt,P as dt,S,X as w,Y as st,Z as pt,_ as ht,a as B,c as q,d as W,e as U,g as J,h as K,i as X,j as Y,ka as gt,v as Z,y as L}from"./chunk-7RWZJSZU.js";import"./chunk-RGNDWIHZ.js";import"./chunk-QNDYK3DZ.js";import{k as j,q as G}from"./chunk-WLRUUNHX.js";import{Ab as a,Bb as O,C as F,Cb as h,Db as _,Fb as N,Kb as P,Mb as v,Qb as D,Rb as H,Sb as E,Tb as V,Ub as r,Va as m,Wb as g,ac as z,bc as A,ca as y,cc as T,dc as Q,fc as $,ha as I,mb as p,nb as R,ob as s,qa as f,ra as M,zb as i}from"./chunk-JETHE2PU.js";import{a as C,b as u}from"./chunk-DM275RSA.js";var Pt=t=>({flt_active:t}),Ot=()=>[10,20,30];function xt(t,e){t&1&&(i(0,"th",35),r(1," Sr no "),a())}function yt(t,e){if(t&1&&(i(0,"td",36),r(1),a()),t&2){let d=e.index,n=v();m(),g(" ",n.getIndex(d)," ")}}function St(t,e){t&1&&(i(0,"th",37),r(1," Full Name "),a())}function wt(t,e){if(t&1&&(i(0,"td",36),r(1),a()),t&2){let d=e.$implicit;m(),g(" ",d.fullName," ")}}function bt(t,e){t&1&&(i(0,"th",38),r(1," Email"),a())}function vt(t,e){if(t&1&&(i(0,"td",36),r(1),a()),t&2){let d=e.$implicit;m(),g(" ",d.email," ")}}function Dt(t,e){t&1&&(i(0,"th",39),r(1,"Country"),a())}function Ht(t,e){if(t&1&&(i(0,"td",36),r(1),a()),t&2){let d=e.$implicit;m(),g(" ",d.country," ")}}function Et(t,e){t&1&&(i(0,"th",35),r(1,"Role"),a())}function Tt(t,e){if(t&1&&(i(0,"td",36),r(1),a()),t&2){let d=e.$implicit;m(),g(" ",d.role," ")}}function kt(t,e){t&1&&(i(0,"th",40),r(1,"Created Date"),a())}function Ft(t,e){if(t&1&&(i(0,"td",36),r(1),Q(2,"date"),a()),t&2){let d=e.$implicit;m(),g(" ",$(2,1,d.createdDate,"d-MMMM-y")," ")}}function It(t,e){if(t&1&&(i(0,"tr",41)(1,"td",42),r(2," No Data Available."),a()()),t&2){let d=v();m(),R("colspan",d.displayedColumns.length)}}function Rt(t,e){t&1&&O(0,"tr",43)}function Nt(t,e){if(t&1&&O(0,"tr",44),t&2){let d=e.$implicit;s("id",d.id)}}var oe=(()=>{let e=class e{constructor(){this.displayedColumns=["Sr no","Full Name","Email","Country","Role","Created Date"],this.dataSource=[],this.pagination={search_key:"",search_column:"",page:1,per_page:10,role_id:0},this.totalCount=0,this.filter_search_key="",this.modalService=y(L),this.doctorService=y(Ct),this.commonService=y(ut),this.statsCount=[],this.cardBackgroundColor=["rgb(244 232 255)","rgb(255 244 222)","rgb(220 252 231)","rgb(255 226 230)"]}ngOnInit(){this.searchForm=new U({search:new J("")}),this.searchForm.get("search")?.valueChanges.pipe(F(500)).subscribe({next:n=>{n?this.searchFunction(n):this.searchFunction("")}}),this.getTotalCount()}getTotalCount(){this.commonService.getTotalCount().subscribe({next:n=>{n&&(this.statsCount=n?.data)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.loadPatientHIstory(this.pagination)}loadPatientHIstory(n){this.doctorService.retrieveDoctorHistory(n).subscribe({next:l=>{if(l){let o=l;this.dataSource=o.data.map(c=>({id:c.id,fullName:c.full_name,email:c.email,country:c.country_name,role:c.role,createdDate:c.created_at})),this.pagination.page=o.meta.current_page,this.pagination.per_page=o.meta.per_page,this.totalCount=o.meta.total}}})}showEditOrganisationModal(n){this.modalService.open(Mt,{width:"800px",height:"90vh",data:{isEdit:!0,organisationId:n}})}handlePagination(n){let l=u(C({},this.pagination),{page:n.pageIndex+1,per_page:n.pageSize});this.loadPatientHIstory(u(C({},l),{search_key:this.filter_search_key,search_column:this.filter_search_key!==""?"role_id":""}))}sortFunction(n){let l=u(C({},this.pagination),{order:n.direction,order_by:n.active});this.loadPatientHIstory(l)}searchFunction(n){let l=u(C({},this.pagination),{search_key:n});this.loadPatientHIstory(l)}getFiltered(n){this.filter_search_key=n==="doctor"?k.Doctor:n==="organization"?k.Organisation:"";let l=u(C({},this.pagination),{search_key:this.filter_search_key,search_column:this.filter_search_key!==""?"role_id":""});this.loadPatientHIstory(l)}getIndex(n){return n+1+this.paginator.pageIndex*this.paginator.pageSize}};e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=I({type:e,selectors:[["app-home"]],viewQuery:function(l,o){if(l&1&&(D(S,5),D(w,5)),l&2){let c;H(c=E())&&(o.paginator=c.first),H(c=E())&&(o.sort=c.first)}},standalone:!0,features:[z],decls:51,vars:16,consts:[["filterMenu","matMenu"],[1,"adminDashboard","mt-4"],[1,"container-fluid"],[3,"chartAuth"],[1,"tableWrapper","p-3"],[1,"header","d-flex","align-items-center","justify-content-between"],[1,"title"],[1,"action","d-flex","align-items-center","justify-content-between","my-3"],[1,"filter",3,"matMenuTriggerFor"],[1,"d-flex"],[1,"me-1"],["yPosition","below","xPosition","before"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click","ngClass"],[1,"filterToolbar"],[3,"formGroup"],["type","search","placeholder","Search","formControlName","search",1,"input-grey-rounded"],[1,"tableWrapper","mb-3"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","Sr no"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Full Name"],["mat-header-cell","","mat-sort-header","full_name",4,"matHeaderCellDef"],["matColumnDef","Email"],["mat-header-cell","","mat-sort-header","email",4,"matHeaderCellDef"],["matColumnDef","Country"],["mat-header-cell","","mat-sort-header","country",4,"matHeaderCellDef"],["matColumnDef","Role"],["matColumnDef","Created Date"],["mat-header-cell","","mat-sort-header","created_at",4,"matHeaderCellDef"],["class","mat-row text-center","style","height: 60px;",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"id",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","true","showFirstLastButtons","true","aria-label","Select page of periodic elements",3,"page","pageSizeOptions","pageSize","length"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","full_name"],["mat-header-cell","","mat-sort-header","email"],["mat-header-cell","","mat-sort-header","country"],["mat-header-cell","","mat-sort-header","created_at"],[1,"mat-row","text-center",2,"height","60px"],[1,"mat-cell"],["mat-header-row",""],["mat-row","",3,"id"]],template:function(l,o){if(l&1){let c=N();i(0,"div",1)(1,"div",2),O(2,"app-chartview",3),i(3,"div",4)(4,"div",5)(5,"div",6)(6,"h4"),r(7,"User's Listing"),a()(),i(8,"div",7)(9,"div",8)(10,"span",9)(11,"mat-icon",10),r(12,"filter_list"),a(),i(13,"span"),r(14,"Filter"),a()(),i(15,"mat-menu",11,0)(17,"button",12),P("click",function(){return f(c),M(o.getFiltered(""))}),r(18,"Clear"),a(),i(19,"button",13),P("click",function(){return f(c),M(o.getFiltered("doctor"))}),r(20,"Doctor"),a(),i(21,"button",13),P("click",function(){return f(c),M(o.getFiltered("organization"))}),r(22,"Organization"),a()()(),i(23,"div",14)(24,"form",15),O(25,"input",16),a()()()(),i(26,"div",17)(27,"table",18),P("matSortChange",function(b){return f(c),M(o.sortFunction(b))}),h(28,19),p(29,xt,2,0,"th",20)(30,yt,2,1,"td",21),_(),h(31,22),p(32,St,2,0,"th",23)(33,wt,2,1,"td",21),_(),h(34,24),p(35,bt,2,0,"th",25)(36,vt,2,1,"td",21),_(),h(37,26),p(38,Dt,2,0,"th",27)(39,Ht,2,1,"td",21),_(),h(40,28),p(41,Et,2,0,"th",20)(42,Tt,2,1,"td",21),_(),h(43,29),p(44,kt,2,0,"th",30)(45,Ft,3,4,"td",21),_(),h(46),p(47,It,3,1,"tr",31),_(),p(48,Rt,1,0,"tr",32)(49,Nt,1,1,"tr",33),a()(),i(50,"mat-paginator",34),P("page",function(b){return f(c),M(o.handlePagination(b))}),a()()()()}if(l&2){let c=V(16);m(2),s("chartAuth","Admin"),m(7),s("matMenuTriggerFor",c),m(10),s("ngClass",T(11,Pt,o.filter_search_key===2)),m(2),s("ngClass",T(13,Pt,o.filter_search_key===1)),m(3),s("formGroup",o.searchForm),m(3),s("dataSource",o.dataSource),m(21),s("matHeaderRowDef",o.displayedColumns),m(),s("matRowDefColumns",o.displayedColumns),m(),s("pageSizeOptions",A(15,Ot))("pageSize",o.pagination.per_page)("length",o.totalCount)}},dependencies:[gt,j,K,B,q,W,X,Y,Z,tt,nt,rt,it,et,ct,at,ot,lt,mt,dt,S,w,st,ht,pt,_t,G,ft],styles:[".adminDashboard[_ngcontent-%COMP%]{max-width:1800px;margin:0 auto}.detailsCard[_ngcontent-%COMP%]{background-color:#f4e8ff;color:#000;padding:12px 20px;display:flex;align-items:center;justify-content:center;flex-direction:column;border-radius:12px;margin:0 0 12px}.detailsCard[_ngcontent-%COMP%]:nth-of-type(1){background-color:#fff4de}.detailsCard[_ngcontent-%COMP%]:nth-of-type(2){background-color:#dcfce7}.detailsCard[_ngcontent-%COMP%]:nth-of-type(3){background-color:#ffe2e6}.chart-list[_ngcontent-%COMP%]{margin:24px 0;display:flex;width:100%;flex-wrap:wrap;gap:24px;justify-content:center}.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{transition:.5s;border:0;border-radius:.55rem;box-shadow:0 1px 2px #0000001f;padding:12px 16px;width:23%;position:relative}@media (max-width: 1300px){.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{width:23%}}@media (max-width: 900px){.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{width:48%}}@media (max-width: 680px){.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{width:100%}}.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;cursor:pointer;background-color:transparent;border-radius:4px;padding:0 2px}.chart-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .chart-list[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:-5px}.chart-list[_ngcontent-%COMP%]   .orgchart[_ngcontent-%COMP%]{background-color:#f4e8ff}.chart-list[_ngcontent-%COMP%]   .drchart[_ngcontent-%COMP%]{background-color:#fff4de}.chart-list[_ngcontent-%COMP%]   .ptchart[_ngcontent-%COMP%]{background-color:#dcfce7}  .mat-mdc-menu-panel{min-width:160px!important;max-width:160px!important}  .mat-mdc-menu-panel .mat-mdc-menu-item-text{font-size:14px!important}  .mat-mdc-menu-panel .mat-mdc-menu-item{min-height:32px!important}.flt_active[_ngcontent-%COMP%]{background:#170dfdad;color:#fff}"]});let t=e;return t})();export{oe as HomeComponent};
