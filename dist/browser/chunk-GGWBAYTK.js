import{a as Q}from"./chunk-EQQULXW2.js";import{a as X}from"./chunk-WG7QQHNH.js";import{Q as J,a as N,b as C,c as D,d as k,e as q,g as c,h as P,i as G,j as V,ka as K,n as j,o as R,p as O,s as L,t as B,v as U,w as W,x as z,z as H}from"./chunk-7RWZJSZU.js";import{p as T}from"./chunk-WLRUUNHX.js";import{Ab as e,Bb as f,Kb as E,Mb as I,Ub as i,Va as r,Wa as b,Wb as x,ac as M,ca as S,dc as w,ec as A,ha as F,mb as p,ob as u,ub as s,zb as t}from"./chunk-JETHE2PU.js";import{a as y,b as g}from"./chunk-DM275RSA.js";function Y(o,a){o&1&&(t(0,"mat-error",10),i(1,"Please enter patient id"),e())}function Z(o,a){o&1&&(t(0,"mat-error",10),i(1,"Please enter code"),e())}function $(o,a){o&1&&(t(0,"mat-error",10),i(1,"Please enter citation"),e())}function ee(o,a){o&1&&(t(0,"mat-error",10),i(1,"Please select type"),e())}function te(o,a){if(o&1&&(t(0,"div",12)(1,"mat-label",7),i(2,"Type"),e(),t(3,"mat-form-field",8)(4,"mat-select",17)(5,"mat-option",18),i(6,"CPT"),e(),t(7,"mat-option",19),i(8,"ICD"),e()()(),p(9,ee,2,0,"mat-error",10),e()),o&2){let h,d=I();r(4),u("disabled",!!d.patientId),r(5),s(9,(h=d.addCodeForm.get("type"))!=null&&h.hasError("required")&&((h=d.addCodeForm.get("type"))!=null&&h.touched)?9:-1)}}var Se=(()=>{let a=class a{constructor(d){this.data=d,this.patientService=S(X),this.taosterService=S(Q),this.dialogRef=S(W,{optional:!0}),this.data.patientId&&(this.patientId=this.data.patientId,this.patentModel_id=this.data?.patentModel_id)}ngOnInit(){this.initForm(),this.patientId&&(this.addCodeForm.get("patient_id")?.setValue(this.patientId),this.addCodeForm.get("type")?.setValue(this.data.codeType),this.addCodeForm.get("patient_id")?.disable())}initForm(){this.addCodeForm=new q({patient_id:new c("",[C.required]),code:new c("",[C.required]),description:new c("",[C.required]),type:new c("",[C.required]),notes:new c("")})}addCode(){if(this.addCodeForm.valid){let d=g(y({},this.addCodeForm.value),{patient_id:this.patentModel_id||this.patientId});this.patientService.addNewCodes(d).pipe().subscribe({next:l=>{l&&(this.taosterService.success("New codes added successfully "),this.coseMode(!0))},error:l=>{this.taosterService.error(l.error.message)}})}else this.addCodeForm.markAsDirty(),this.addCodeForm.markAllAsTouched()}coseMode(d){this.dialogRef?.close(d)}};a.\u0275fac=function(l){return new(l||a)(b(z))},a.\u0275cmp=F({type:a,selectors:[["app-add-codes"]],standalone:!0,features:[M],decls:38,vars:10,consts:[[1,"addNewCodesWrapper","p-3"],[1,"container-fluid"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn",3,"click","mat-dialog-close"],[3,"formGroup"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","my-2"],[1,"control-label"],["appearance","outline",1,"form-field"],["matInput","","placeholder","Enter patient Id","type","text","formControlName","patient_id",3,"disabled"],[1,"error-msg"],["matInput","","placeholder","Enter code","type","text","formControlName","code"],[1,"col-12","col-ms-12","col-md-12","col-lg-12","my-2"],["matInput","","placeholder","Enter citation","type","text","formControlName","description"],[1,"col-12","my-2"],["matInput","","placeholder","review","type","text","formControlName","notes","rows","1"],["type","button",1,"btn","submit-btn","w-100",3,"click"],["formControlName","type","placeholder","Select your template",3,"disabled"],["value","cpt"],["value","icd"]],template:function(l,n){if(l&1&&(t(0,"div",0)(1,"div",1)(2,"h3",2),i(3),w(4,"uppercase"),t(5,"button",3),E("click",function(){return n.coseMode(!1)}),t(6,"mat-icon"),i(7,"close"),e()()(),t(8,"form",4)(9,"div",5)(10,"div",5)(11,"div",6)(12,"mat-label",7),i(13,"Patient Id"),e(),t(14,"mat-form-field",8),f(15,"input",9),e(),p(16,Y,2,0,"mat-error",10),e(),t(17,"div",6)(18,"mat-label",7),i(19,"Code"),e(),t(20,"mat-form-field",8),f(21,"input",11),e(),p(22,Z,2,0,"mat-error",10),e()(),t(23,"div",5)(24,"div",12)(25,"mat-label",7),i(26,"Citation"),e(),t(27,"mat-form-field",8),f(28,"input",13),e(),p(29,$,2,0,"mat-error",10),e(),p(30,te,10,2,"div",12),e(),t(31,"div",14)(32,"mat-label",7),i(33,"Review"),e(),t(34,"mat-form-field",8),f(35,"textarea",15),e()()()(),t(36,"button",16),E("click",function(){return n.addCode()}),i(37,"Save"),e()()()),l&2){let m,_,v;r(3),x("Add New ",A(4,8,n.data.codeType)," Code "),r(2),u("mat-dialog-close",!1),r(3),u("formGroup",n.addCodeForm),r(7),u("disabled",!!n.patientId),r(),s(16,(m=n.addCodeForm.get("patient_id"))!=null&&m.hasError("required")&&((m=n.addCodeForm.get("patient_id"))!=null&&m.touched)?16:-1),r(6),s(22,(_=n.addCodeForm.get("code"))!=null&&_.hasError("required")&&((_=n.addCodeForm.get("code"))!=null&&_.touched)?22:-1),r(7),s(29,(v=n.addCodeForm.get("description"))!=null&&v.hasError("required")&&((v=n.addCodeForm.get("description"))!=null&&v.touched)?29:-1),r(),s(30,n.patientId?-1:30)}},dependencies:[K,P,N,D,k,G,V,B,L,R,O,U,H,J,j,T]});let o=a;return o})();export{Se as a};
